<!-- >>> START <<< -->

<!-- blog-view.ejs -->

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Icon -->
    <link rel="icon" type="image/x-icon" href="/images/logo.png" />

    <!-- Library import -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />

    <!-- CSS import -->
    <link rel="stylesheet" type="text/css" href="/main.css" />

    <!-- Internal style -->
    <style>
      .blog-card {
        margin-bottom: 25px;
      }

      .carousel-control-prev,
      .carousel-control-next {
        background-color: #1c3c40;
        height: 50px;
        width: 50px;
        top: 50%;
        transform: translateY(-50%);
      }

      .writer-blog-card {
        margin-bottom: 25px;
      }
    </style>

    <!-- Website title + logo -->
    <title>SG Odyssey: Reader</title>
  </head>
  <body>
    <%- include('partials/navigation') %>

    <div class="container-fluid d-flex h-100"></div>
    <div class="bg-primary">
      <img
        src="/images/main-background.png"
        class="img-fluid bg-primary w-100"
        style="object-fit: cover; height: 250px"
      />

      <% blogs.forEach(blog => { %>
      <div class="col-12 position-absolute top-0 mt-5 pt-5">
        <div
          class="h-100 mx-5 rounded-4 text-center p-3"
          style="background-color: #e6e6dd"
        >
          <h5 class="mb-0 fw-bold" style="color: #24474b">
            <%= blog.blog_title %>
          </h5>
          <p class="opacity-50 mb-2" style="font-size: 12px">
            By <%= blog.author_name %>
          </p>
          <p class="mb-0 opacity-75"><%= blog.blog_subtitle %></p>
          <p class="text-start mb-0 opacity-75">Views: <%= blog.blog_views %></p>

          <div class="position-relative">
            <%- include('partials/feedback', { content_id: blog_id,
            content_type: 'blog', feedback: feedback }) %>
          </div>
        </div>
      </div>
      <% }); %>
    </div>

    <!-- If there are no articles check -->
    <% if (articles.length > 0) {%>
    <!-- Filtering + Article display -->
    <%- include('partials/article-filter', { articles: articles }) %>
    <%-include('partials/reader-article-card') %>
    <%-include('partials/comment-section', {comment_type : 'blog'}) %> <%} else
    {%>
    <h5 class="fw-bold mb-3 ms-3 text-center mt-5" style="color: #1c3c40">
      This blog has no articles yet, join our community to create you own
      articles!!
    </h5>

    <img
      src="/images/no-articles.png"
      class="img-fluid d-flex mx-auto"
      style="object-fit: cover; height: 200px; width: 40%; overflow: hidden"
    />
    <%}%>
  </body>
</html>

<!-- >>> END <<< -->
